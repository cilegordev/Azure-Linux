From 8c5e259235a4e4546910245b170de1e29a711034 Mon Sep 17 00:00:00 2001
From: Alan Modra <amodra@gmail.com>
Date: Sun, 29 Dec 2019 12:56:29 +1030
Subject: [PATCH] Usage of unitialized heap in tic4x_print_cond

	PR 25319
	* tic4x-dis.c (tic4x_print_cond): Init all of condtable.
---
 opcodes/tic4x-dis.c | 2 +-
 1 files changed, 1 insertions(+), 1 deletion(-)

diff --git a/opcodes/tic4x-dis.c b/opcodes/tic4x-dis.c
index d9f95c9410..01cfa1e060 100644
--- a/opcodes/tic4x-dis.c
+++ b/opcodes/tic4x-dis.c
@@ -277,7 +277,7 @@ tic4x_print_cond (struct disassemble_info *info, unsigned int cond)
 
   if (condtable == NULL)
     {
-      condtable = xmalloc (sizeof (tic4x_cond_t *) * 32);
+      condtable = xcalloc (sizeof (tic4x_cond_t *), 32);
       for (i = 0; i < tic4x_num_conds; i++)
 	condtable[tic4x_conds[i].cond] = (tic4x_cond_t *)(tic4x_conds + i);
     }
-- 
2.25.1

